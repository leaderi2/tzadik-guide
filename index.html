<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>לימוד יהדות</title>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Almarai', sans-serif;
            margin: 0;
            background: #f5f5f5;
            color: #333;
        }

        /* ===== מסך כניסה ===== */
        #entrance-screen {
            background: #1e3a8a; /* כחול */
            color: white;
            height: 100vh; /* מלא מסך */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        #entrance-screen h1 {
            font-size: 48px;
            margin-bottom: 40px;
        }

        #entrance-screen button {
            width: 200px;
            padding: 15px;
            margin: 10px 0;
            font-size: 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: #2563eb;
            color: white;
            transition: background 0.3s;
        }

        #entrance-screen button:hover {
            background: #1d4ed8;
        }

        /* ===== מסך ראשי ===== */
        header {
            background: #1e3a8a;
            color: white;
            padding: 60px 20px;
            text-align: center;
            display: none; /* יופיע אחרי בחירת מין */
        }

        header h1 {
            font-size: 48px;
            margin: 0;
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px;
            display: none; /* יופיע אחרי בחירת מין */
        }

        nav button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        nav button:hover {
            background: #1d4ed8;
        }

        .section {
            display: none;
            background: white;
            margin: 20px;
            padding: 20px;
            border-radius: 10px;
        }

        .active {
            display: block;
        }

        footer {
            text-align: center;
            margin: 30px;
            color: #666;
            display: none; /* יופיע אחרי בחירת מין */
        }

        .wheel-container {
            text-align: center;
            position: relative;
            width: 420px;
            margin: auto;
        }

        /* כפתור אדום במרכז */
        .spin-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);

            width: 70px;
            height: 70px;

            border-radius: 50%;
            border: none;

            background: red;
            cursor: pointer;
            z-index: 10;
        }

        /* חץ קטן למעלה */
        .arrow {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);

            width: 0;
            height: 0;

            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 20px solid red;

            z-index: 10;
        }
    </style>
</head>
<body>

<!-- ===== מסך כניסה ===== -->
<div id="entrance-screen">
    <h1>שלום צדיקים! אשרייכם!</h1>
    <button onclick="selectGender('male')">זכר</button>
    <button onclick="selectGender('female')">נקבה</button>
</div>

<!-- ===== מסך ראשי ===== -->
<header id="main-header">
    <h1 id="welcome-text">שלום צדיק!</h1>
</header>

<nav id="main-nav">
    <button onclick="show('tanach')">תנ״ך</button>
    <button onclick="show('year')">מעגל השנה</button>
    <button onclick="show('mitzvot')">ברכות ומצוות</button>
    <button onclick="show('heritage')">מורשת ישראל</button>
    <button onclick="show('parasha')">פרשת השבוע</button>
</nav>

<!-- ===== Sections ===== -->
<div id="tanach" class="section">
    <h2>תנ״ך</h2>
    <ul>
        <li>ספרי התורה</li>
        <li>נביאים</li>
        <li>כתובים</li>
        <li>דמויות מרכזיות בתנ״ך</li>
    </ul>
</div>

<div id="year" class="section">

<h2>מעגל השנה – גלגל החודשים</h2>

<div class="wheel-container">

    <!-- חץ אדום למעלה -->
    <div class="arrow"></div>

    <canvas id="wheelCanvas" width="420" height="420"></canvas>

    <!-- כפתור אדום עגול במרכז -->
    <button class="spin-btn" onclick="spinWheel()"></button>

</div>

</div>

<div id="mitzvot" class="section">
    <h2>ברכות ומצוות</h2>
    <ul>
        <li>ברכות יומיומיות</li>
        <li>מצוות מרכזיות</li>
        <li>תפילות בסיסיות</li>
        <li>אורח חיים יהודי</li>
    </ul>
</div>

<div id="heritage" class="section">
    <h2>מורשת ישראל</h2>
    <ul>
        <li>היסטוריה יהודית</li>
        <li>גדולי ישראל</li>
        <li>ערכים ומסורת</li>
        <li>קהילות ישראל</li>
    </ul>
</div>

<div id="parasha" class="section">
    <h2>פרשת השבוע</h2>
    <ul>
        <li>סיכום פרשת השבוע</li>
        <li>רעיונות מרכזיים</li>
        <li>שאלות למחשבה</li>
        <li>פעילויות לתלמידים</li>
    </ul>
</div>

<footer id="main-footer">
    <p>נוצר באהבה ללימוד היהדות ✡</p>
</footer>

<script>
function show(id) {
    const sections = document.querySelectorAll('.section');
    sections.forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function selectGender(gender) {
    // Hide entrance screen
    document.getElementById('entrance-screen').style.display = 'none';

    // Show main content
    document.getElementById('main-header').style.display = 'block';
    document.getElementById('main-nav').style.display = 'flex';
    document.getElementById('main-footer').style.display = 'block';

    // Set welcome text
    const welcome = document.getElementById('welcome-text');
    if (gender === 'male') {
        welcome.textContent = 'שלום צדיק!';
    } else {
        welcome.textContent = 'שלום צדיקה!';
    }
}

const months = [
"תשרי","חשוון","כסלו","טבת","שבט","אדר",
"ניסן","אייר","סיון","תמוז","אב","אלול"
];

const monthInfo = {
"תשרי": "חודש החגים: ראש השנה, יום כיפור, סוכות ושמחת תורה",
"חשוון": "נקרא גם מרחשוון – חודש ללא חגים",
"כסלו": "חג החנוכה – אור וניסים",
"טבת": "עשרה בטבת – יום צום וזיכרון",
"שבט": "ט״ו בשבט – ראש השנה לאילנות",
"אדר": "חג הפורים – שמחה גדולה",
"ניסן": "חג הפסח – יציאת מצרים",
"אייר": "יום העצמאות ול״ג בעומר",
"סיון": "חג השבועות – מתן תורה",
"תמוז": "י״ז בתמוז – תחילת בין המצרים",
"אב": "תשעה באב – חורבן בית המקדש",
"אלול": "חודש הרחמים והסליחות"
};

let angle = 0;

function drawWheel() {
    const canvas = document.getElementById("wheelCanvas");
    const ctx = canvas.getContext("2d");
    const radius = canvas.width / 2;

    ctx.clearRect(0,0,420,420);

    months.forEach((m, i) => {
        const start = (2 * Math.PI / 12) * i + angle;
        const end = start + 2 * Math.PI / 12;

        ctx.beginPath();
        ctx.moveTo(radius, radius);
        ctx.arc(radius, radius, radius, start, end);
        ctx.fillStyle = i % 2 === 0 ? "#93c5fd" : "#bfdbfe";
        ctx.fill();

        ctx.save();
        ctx.translate(radius, radius);
        ctx.rotate(start + Math.PI / 12);
        ctx.textAlign = "right";
        ctx.fillStyle = "black";
        ctx.font = "16px Arial";
        ctx.fillText(m, radius - 10, 5);
        ctx.restore();
    });
}

/* חישוב החודש שמול החץ */
function getSelectedMonth() {

    // לנרמל את הזווית לטווח 0–2π
    let a = angle % (2 * Math.PI);
    if (a < 0) a += 2 * Math.PI;

    // כי החץ למעלה ולא בצד ימין
    a = a + Math.PI / 2;

    const sector = (2 * Math.PI) / 12;

    let index = Math.floor((2 * Math.PI - a) / sector) % 12;

    return months[index];
}

function spinWheel() {
    let spins = Math.random() * 200 + 200;

    const interval = setInterval(() => {
        angle += 0.1;
        spins--;
        drawWheel();

        if (spins <= 0) {
            clearInterval(interval);
            showMonth();
        }
    }, 10);
}

function showMonth() {
    const month = getSelectedMonth();

    alert(
        month + "\n\n" +
        monthInfo[month]
    );
}

/* לחיצה על הגלגל = אותו חודש בדיוק */
document.getElementById("wheelCanvas").addEventListener("click", function(e) {

    const canvas = this;
    const rect = canvas.getBoundingClientRect();

    const x = e.clientX - rect.left - canvas.width / 2;
    const y = e.clientY - rect.top - canvas.height / 2;

    // זווית הלחיצה ביחס למרכז
    let clickAngle = Math.atan2(y, x);

    if (clickAngle < 0)
        clickAngle += 2 * Math.PI;

    // נתקן לפי הסיבוב הנוכחי של הגלגל
    let realAngle = clickAngle - angle;

    if (realAngle < 0)
        realAngle += 2 * Math.PI;

    const sector = (2 * Math.PI) / 12;

    let index = Math.floor(realAngle / sector);

    const month = months[index];

    alert(
        month + "\n\n" +
        monthInfo[month]
    );
});

drawWheel();


</script>

</body>
</html>
